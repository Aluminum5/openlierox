#!/usr/bin/python -u

import random
global worms, io

# just set some default stuff, it doesn't matter for Hide&Seek
setvar( "GameOptions.GameInfo.ModName", "MW 1.0" )
setvar( "GameServer.WeaponRestrictionsFile", "cfg/presets/Mortar Only.wps" ) # only one weapon to have autoselect for beta8
setvar( "GameOptions.GameInfo.LoadingTime", "100" )

# some good settings for this gametype
setvar("GameOptions.GameInfo.Lives", 0)
setvar("GameOptions.GameInfo.KillLimit", -1)

# set hide&seek
setvar("GameOptions.GameInfo.GameType", 4)

# There is no reason to overwrite the time. Either we defined
# some own setting, then we probably want to have that one,
# or the HideAndSeek gamemode can automatically select an own
# timelimit otherwise.

# Pick one random seeker
for w in worms.values():
	io.setWormTeam( w.iID, 0 )
seeker = random.choice(worms.values()).iID
io.setWormTeam( seeker, 1 )
if len(worms.values()) >= 4: # More than 4 players
	seeker2 = seeker
	while seeker2 == seeker:
		seeker2 = random.choice(worms.values()).iID
		io.setWormTeam( seeker2, 1 ) # Pick another random seeker
